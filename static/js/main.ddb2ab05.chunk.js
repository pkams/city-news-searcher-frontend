(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,,,,,,function(e,t,a){e.exports=a(38)},,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,,,function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),i=a(14),o=a.n(i),s=(a(23),a(24),a(3)),r=a(1);a(25),a(26);function l(){return c.a.createElement("div",null,c.a.createElement("i",{className:"circle-preloader"}))}a(27);function m(e){return c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"card__img"},c.a.createElement("img",{className:"card__img-background",src:""!==e.news.imagens?"https://agenciadenoticias.ibge.gov.br/"+JSON.parse(e.news.imagens).image_intro:"",alt:"imagem demonstrativa da noticia ".concat(e.news.title)})),c.a.createElement("div",{className:"card__content"},c.a.createElement("p",{className:"card__content-title"},null===e.news.titulo?"(Reportagem sem titulo)":"".concat(e.idx+1,". ").concat(e.news.titulo)),c.a.createElement("a",{href:e.news.link,target:"_blank",className:"card__content-link"},e.news.link),c.a.createElement("p",{className:"card__content-edit"},null===e.news.author?"(Reportagem sem editorias)":"Editorias: ".concat(e.news.editorias))))}a(28);var u=a(37).v4;function d(e){return c.a.createElement("main",{className:"main"},c.a.createElement("h2",{className:"main__title"},"Selecione o estado, cidade e data de inicio para encontrar noticias relacionadas!"),c.a.createElement("div",{className:"main__forms"},c.a.createElement("div",{className:"main__forms-item"},c.a.createElement("label",null,"UF:"),c.a.createElement("select",{name:"uf",id:"uf",value:e.selectedUf,onChange:function(t){var a=t.target.value;e.setSelectedCity("0"),e.setSelectedUf(a)},className:"main__forms-item-input"},c.a.createElement("option",{value:"0",key:"select_uf"},"Selecione uma UF"),e.ufs.map(function(e){return c.a.createElement("option",{value:e.sigla,key:e.sigla},e.nome)}))),c.a.createElement("div",{className:"main__forms-item"},c.a.createElement("label",null,"Cidade:"),c.a.createElement("select",{name:"city",id:"city",value:e.selectedCity,onChange:function(t){var a=t.target.value;e.setSelectedCity(a)},className:"main__forms-item-input"},c.a.createElement("option",{value:"0",key:"select_city"},"Selecione uma cidade"),e.cities.map(function(e){return c.a.createElement("option",{value:e.nome,key:e.id},e.nome)}))),c.a.createElement("div",{className:"main__forms-item"},c.a.createElement("label",null,"Data de inicio:"),c.a.createElement("input",{type:"date",onChange:function(t){var a=t.target.value;e.setSelectedDate(a)},className:"main__forms-item-input",value:e.selectedDate})),c.a.createElement("button",{onClick:function(){e.setItemsToShow(3),e.setsearchTrigger(!e.searchTrigger)},className:"main__forms-item-button",ref:e.refVar,disabled:e.disableButton},"Pesquisar")),c.a.createElement("div",{className:"main__content"},""===e.selectedNews[0]|e.searching?"":"".concat(e.selectedNews.length," not\xedcias encontradas."),e.searching?c.a.createElement(l,null):e.selectedNews.slice(0,e.itemsToShow).map(function(e,t){return 0===e.length?"":c.a.createElement(m,{key:u(),news:e,idx:t})}),e.itemsToShow>=e.selectedNews.length|e.searching?"":c.a.createElement("button",{className:"main__forms-see-more main__forms-item-button",onClick:function(){e.setItemsToShow(e.itemsToShow+3)}},"Ver mais")))}a(29);function f(){return c.a.createElement("header",{className:"header"},c.a.createElement("h1",{className:"header__title"},"News Searcher Web App"))}var p=a(8);a(30);function g(){return c.a.createElement("nav",{className:"navigation"},c.a.createElement("h3",{className:"navigation__title"},"NewsSearcher"),c.a.createElement("div",{className:"navigation__menu"},c.a.createElement(p.b,{to:"/",className:"navigation__menu-item"},"Home"),c.a.createElement(p.b,{to:"main",className:"navigation__menu-item"},"Webapp")))}function b(){return c.a.createElement("footer",{className:"Footer"},c.a.createElement("p",null,"Desenvolvido por: Patrick Souza @2022"))}a(31);function h(){return c.a.createElement("section",{className:"about"},c.a.createElement("h3",null,"PT-BR"),c.a.createElement("p",{className:"about__text"},'O aplicativo "News Searcher Web App" foi implementado como projeto de finaliza\xe7\xe3o do curso de Desenvolvedor Web da Practicum by Yandex. O objetivo proposto foi criar um projeto frontend que interagisse com APIs publicas utilizando o framework React e linguagem Javascript. As APIs escolhidas para esta tarefa foram as APIs do IBGE para captura de dados dos estados e municipios brasileiros e, a partir destes, a possibilidade de pesquisar noticias relacionadas a determinada localidade baseando-se na API de noticias do pr\xf3prio IBGE. Devido ao carater de "prova de conceito" do projeto, as noticias foram limitadas aquelas disponibilizadas pela API do IBGE, entretanto o projeto pode ser escalado para outras APIs de noticias utilizando os mesmos conceitos.'),c.a.createElement("h3",null,"ENG"),c.a.createElement("p",{className:"about__text"},'The "News Searcher Web App" application was implemented as a final project for the Practicum by Yandex Web Developer course. The objective was to create a frontend project that interacts with public APIs using Javascript language and the React framework. The APIs chosen for that task were the IBGE APIs for retrive data from Brazilian states and cities and based on that searchs for news related to a given location based on a data using the IBGE\'s news API. Due to the "proof of concept" character of the project, the news were limited to those made available by the IBGE API, but the project can be scaled to other news APIs using the same concepts.'))}var v=a(5),E=a(6),_=new(function(){function e(t){var a=t.baseUrl;Object(v.a)(this,e),this.baseUrl=a}return Object(E.a)(e,[{key:"getUf",value:function(){return fetch("".concat(this.baseUrl,"/v1/localidades/estados/")).then(function(e){if(e.ok)return e.json()})}},{key:"getCities",value:function(e){return fetch("".concat(this.baseUrl,"/v1/localidades/estados/").concat(e,"/municipios")).then(function(e){if(e.ok)return e.json()})}},{key:"getNews",value:function(e,t,a){var n="https://servicodados.ibge.gov.br/api/v3/noticias/?busca=".concat(t.split(" ").join("%20").trim()+"%20"+e.trim(),"&de=").concat(a);return fetch(n)}}]),e}())({baseUrl:"https://servicodados.ibge.gov.br/api"});a(32).config();var S=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],i=t[1],o=Object(n.useState)([]),l=Object(s.a)(o,2),m=l[0],u=l[1],p=Object(n.useState)("0"),v=Object(s.a)(p,2),E=v[0],S=v[1],N=Object(n.useState)("0"),w=Object(s.a)(N,2),j=w[0],O=w[1],I=Object(n.useState)("dd/mm/aaaa"),y=Object(s.a)(I,2),k=y[0],P=y[1],A=Object(n.useState)([""]),T=Object(s.a)(A,2),C=T[0],U=T[1],D=Object(n.useState)(!1),B=Object(s.a)(D,2),J=B[0],F=B[1],x=Object(n.useState)(!1),G=Object(s.a)(x,2),R=G[0],z=G[1],W=Object(n.useState)(!0),q=Object(s.a)(W,2),V=q[0],Y=q[1],L=Object(n.useState)(3),M=Object(s.a)(L,2),H=M[0],$=M[1],K=Object(n.createRef)();function Q(e){if(e=X(e,"US"),!/^\d\d\/\d\d\/\d\d\d\d$/.test(e))return!1;var t=e.split("/").map(function(e){return parseInt(e,10)}),a=new Date(t[2],t[0],t[1]);return a.getMonth()===t[0]&&a.getDate()===t[1]&&a.getFullYear()===t[2]}function X(e,t){var a=e.split("-");return e="US"===t?"".concat(a[1],"/").concat(a[2],"/").concat(a[0]):"".concat(a[2],"/").concat(a[1],"/").concat(a[0])}function Z(e,t){return e.sort(function(e,a){var n=e[t],c=a[t];return n<c?-1:n>c?1:0})}return Object(n.useEffect)(function(){null!==localStorage.getItem("uf")&null!==localStorage.getItem("city")&null!==localStorage.getItem("date")&&(S(JSON.parse(localStorage.getItem("uf"))),O(JSON.parse(localStorage.getItem("city"))),P(JSON.parse(localStorage.getItem("date"))),F(!0)),_.getUf().then(function(e){i(Z(e,"nome"))})},[]),Object(n.useEffect)(function(){"0"!==E&&_.getCities(E).then(function(e){u(Z(e,"nome"))})},[E]),Object(n.useEffect)(function(){null!=K.current&&("0"!=j&Q(k)?Y(!1):Y(!0))},[j,k,K]),Object(n.useEffect)(function(){!Q(k)|"0"===j|"0"===E||_.getNews(E,j,k).then(z(!0)).then(function(e){if(e.ok)return e.json()}).then(function(e){null!=e&&(U(e.items),z(!1))})},[J]),Object(n.useEffect)(function(){""!==C[0]&&(localStorage.setItem("uf",JSON.stringify(E)),localStorage.setItem("city",JSON.stringify(j)),localStorage.setItem("date",JSON.stringify(k)))},[C]),c.a.createElement("div",{className:"App"},c.a.createElement(f,null),c.a.createElement(g,null),c.a.createElement(r.c,null,c.a.createElement(r.a,{path:"/",element:c.a.createElement(h,null)}),c.a.createElement(r.a,{path:"/main",element:c.a.createElement(d,{selectedUf:E,selectedCity:j,selectedNews:C,selectedDate:k,setSelectedDate:P,setSelectedCity:O,setSelectedUf:S,setsearchTrigger:F,searchTrigger:J,ufs:a,cities:m,searching:R,refVar:K,disableButton:V,convert_date:X,itemsToShow:H,setItemsToShow:$})})),c.a.createElement(b,null))},N=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,39)).then(function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,i=t.getLCP,o=t.getTTFB;a(e),n(e),c(e),i(e),o(e)})};o.a.createRoot(document.getElementById("root")).render(c.a.createElement(p.a,{basename:"/city-news-searcher-frontend"},c.a.createElement(c.a.StrictMode,null,c.a.createElement(S,null)))),N()}],[[15,1,2]]]);
//# sourceMappingURL=main.ddb2ab05.chunk.js.map