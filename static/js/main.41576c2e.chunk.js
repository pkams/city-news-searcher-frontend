(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,,,,,,function(e,t,a){e.exports=a(38)},,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,,,function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),i=a(14),r=a.n(i),s=(a(23),a(24),a(3)),o=a(1);a(25),a(26);function l(){return c.a.createElement("div",null,c.a.createElement("i",{className:"circle-preloader"}))}a(27);function m(e){return c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"card__img"},c.a.createElement("img",{className:"card__img-background",src:""!==e.news.imagens?"https://agenciadenoticias.ibge.gov.br/"+JSON.parse(e.news.imagens).image_intro:"",alt:"imagem demonstrativa da noticia ".concat(e.news.title)})),c.a.createElement("div",{className:"card__content"},c.a.createElement("p",{className:"card__content-title"},null===e.news.titulo?"(Reportagem sem titulo)":e.news.titulo),c.a.createElement("a",{href:e.news.link,target:"_blank",className:"card__content-link"},e.news.link),c.a.createElement("p",{className:"card__content-edit"},null===e.news.author?"(Reportagem sem editorias)":"Editorias: ".concat(e.news.editorias))))}a(28);var u=a(37).v4;function d(e){return c.a.createElement("main",{className:"main"},c.a.createElement("h2",{className:"main__title"},"Selecione o estado, cidade e data de inicio para encontrar noticias relacionadas!"),c.a.createElement("div",{className:"main__forms"},c.a.createElement("div",{className:"main__forms-item"},c.a.createElement("label",null,"UF:"),c.a.createElement("select",{name:"uf",id:"uf",value:e.selectedUf,onChange:function(t){var a=t.target.value;e.setSelectedUf(a)},className:"main__forms-item-input"},c.a.createElement("option",{value:"0",key:"select_uf"},"Selecione uma UF"),e.ufs.map(function(e){return c.a.createElement("option",{value:e.sigla,key:e.sigla},e.nome)}))),c.a.createElement("div",{className:"main__forms-item"},c.a.createElement("label",null,"Cidade:"),c.a.createElement("select",{name:"city",id:"city",value:e.selectedCity,onChange:function(t){var a=t.target.value;e.setSelectedCity(a)},className:"main__forms-item-input"},c.a.createElement("option",{value:"0",key:"select_city"},"Selecione uma cidade"),e.cities.map(function(e){return c.a.createElement("option",{value:e.nome,key:e.id},e.nome)}))),c.a.createElement("div",{className:"main__forms-item"},c.a.createElement("label",null,"Data de inicio:"),c.a.createElement("input",{type:"date",onChange:function(t){var a=t.target.value;e.setSelectedDate(a)},className:"main__forms-item-input",value:e.selectedDate})),c.a.createElement("button",{onClick:function(){e.setsearchTrigger(!e.searchTrigger)},className:"main__forms-item-button",ref:e.refVar,disabled:e.disableButton},"Pesquisar")),c.a.createElement("div",{className:"main__content"},e.searching?c.a.createElement(l,null):0===e.selectedNews.length?e.message:e.selectedNews.map(function(e){return 0===e.length?"":c.a.createElement(m,{key:u(),news:e})})))}a(29);function f(){return c.a.createElement("header",{className:"header"},c.a.createElement("h1",{className:"header__title"},"News Searcher Web App"))}var h=a(7);a(30);function b(){return c.a.createElement("nav",{className:"navigation"},c.a.createElement("h3",{className:"navigation__title"},"NewsSearcher"),c.a.createElement("div",{className:"navigation__menu"},c.a.createElement(h.b,{to:"/",className:"navigation__menu-item"},"Home"),c.a.createElement(h.b,{to:"main",className:"navigation__menu-item"},"Webapp")))}function p(){return c.a.createElement("footer",{className:"Footer"},c.a.createElement("p",null,"Desenvolvido por: Patrick Souza @2022"))}a(31);function g(){return c.a.createElement("section",{className:"about"},c.a.createElement("p",{className:"about__text"},'The "News Searcher Web App" application was implemented as a final project for the Practicum by Yandex Web Developer course. The objective was to create a frontend project that interacts with public APIs using Javascript language and the React framework. The APIs chosen for that task were the IBGE APIs for retrive data from Brazilian states and cities and based on that searchs for news related to a given location based on a data using the IBGE\'s news API. Due to the "proof of concept" character of the project, the news were limited to those made available by the IBGE API, but the project can be scaled to other news APIs using the same concepts.'))}a(32).config();var v=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],i=t[1],r=Object(n.useState)([]),l=Object(s.a)(r,2),m=l[0],u=l[1],h=Object(n.useState)("0"),v=Object(s.a)(h,2),E=v[0],_=v[1],N=Object(n.useState)("0"),j=Object(s.a)(N,2),w=j[0],S=j[1],O=Object(n.useState)("dd/mm/aaaa"),k=Object(s.a)(O,2),y=k[0],C=k[1],I=Object(n.useState)([""]),D=Object(s.a)(I,2),P=D[0],A=D[1],T=Object(n.useState)(!1),B=Object(s.a)(T,2),F=B[0],U=B[1],R=Object(n.useState)(!1),J=Object(s.a)(R,2),W=J[0],x=J[1],G=Object(n.useState)("Nenhuma noticia encontrada."),z=Object(s.a)(G,2),L=z[0],M=z[1],V=Object(n.useState)(!0),Y=Object(s.a)(V,2),q=Y[0],H=Y[1],$=Object(n.createRef)();function K(e){if(e=Q(e,"US"),!/^\d\d\/\d\d\/\d\d\d\d$/.test(e))return!1;var t=e.split("/").map(function(e){return parseInt(e,10)}),a=new Date(t[2],t[0],t[1]);return a.getMonth()===t[0]&&a.getDate()===t[1]&&a.getFullYear()===t[2]}function Q(e,t){var a=e.split("-");return e="US"===t?"".concat(a[1],"/").concat(a[2],"/").concat(a[0]):"".concat(a[2],"/").concat(a[1],"/").concat(a[0])}function X(e,t){return e.sort(function(e,a){var n=e[t],c=a[t];return n<c?-1:n>c?1:0})}return Object(n.useEffect)(function(){fetch("https://servicodados.ibge.gov.br/api/v1/localidades/estados/").then(function(e){if(e.ok)return e.json()}).then(function(e){i(X(e,"nome"))})},[]),Object(n.useEffect)(function(){"0"!==E&&(S("0"),fetch("https://servicodados.ibge.gov.br/api/v1/localidades/estados/".concat(E,"/municipios")).then(function(e){if(e.ok)return e.json()}).then(function(e){u(X(e,"nome"))}))},[E]),Object(n.useEffect)(function(){if(!(!K(y)|"0"===w|"0"===E)){var e="https://servicodados.ibge.gov.br/api/v3/noticias/?busca=".concat(w.split(" ").join("%20").trim()+"%20"+E.trim(),"&de=").concat(y);fetch(e).then(x(!0)).then(function(e){if(e.ok)return e.json()}).then(function(e){null!=e&&(M("Nenhuma noticia encontrada."),x(!1),A(e.items))})}},[F]),Object(n.useEffect)(function(){null!=$.current&&("0"!=w&K(y)?H(!1):H(!0))},[w,y,$]),c.a.createElement("div",{className:"App"},c.a.createElement(f,null),c.a.createElement(b,null),c.a.createElement(o.c,null,c.a.createElement(o.a,{path:"/",element:c.a.createElement(g,null)}),c.a.createElement(o.a,{path:"/main",element:c.a.createElement(d,{setSelectedDate:C,setSelectedCity:S,setSelectedUf:_,setsearchTrigger:U,searchTrigger:F,ufs:a,selectedUf:E,selectedCity:w,selectedNews:P,selectedDate:y,cities:m,searching:W,message:L,refVar:$,disableButton:q,convert_date:Q})})),c.a.createElement(p,null))},E=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,39)).then(function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,i=t.getLCP,r=t.getTTFB;a(e),n(e),c(e),i(e),r(e)})};r.a.createRoot(document.getElementById("root")).render(c.a.createElement(h.a,{basename:"/city-news-searcher-frontend"},c.a.createElement(c.a.StrictMode,null,c.a.createElement(v,null)))),E()}],[[15,1,2]]]);
//# sourceMappingURL=main.41576c2e.chunk.js.map